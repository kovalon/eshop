# eshop
## Описание
Приложение представляет из себя сервис для взаимодествия с сущностями User, Order, Product.

Имеется слой для работы с БД (dao.py + sqlalchemy библиотека), слой, состоящий из 3 модулей, для работы с сущностями (user.py, product.py, order.py) и слой policy для бизнес-логики. В нем же сосредоточено View представление, в виде opanepi спецификации, из архитектуры MVC, по которой проект и сделан.

Рассмотрим функционал приложения.

### 1. User сущность

Для нее предусмотрены следующие операции:

    1. создание
    2. редактирование
    3. удаление
    4. просмотр всех записей
    5. просмотр определенной записи
    6. подписаться на другого user
    7. добавить order (заказ) к user

!(source/user.png)[взаимодействие с сущностью user через ui]

### 2. Order сущность

Ее операции следующие:

    1. создание
    2. редактирование
    3. удаление
    4. просмотр всех записей
    5. просмотр определенной записи
    6. добавить product(продукт) в order

!(source/order.png)[взаимодействие с сущностью order через ui]

### 3. Product сущность

    1. создание
    2. редактирование
    3. удаление
    4. просмотр всех записей
    5. просмотр определенной записи

!(source/product.png)[взаимодействие с сущностью product через ui]

## Структура проекта
В репозитории содержится архив с проектом, написанном на python с использованием библиотеки aiohttp и sql скрипт для предварительно настройки БД postgres для работы с ней приложения.

## Развертывание

(как пример, команды предоставлены для системы Windows)

1. Скачайте проект

2. Разархивируйте его

3. В БД PostgreSQL, находящующся на вашей текущей машине, создайте базу данных eshop: `create database eshop;`

3. Для БД PostgreSQL, находящующся на вашей текущей машине с дефолтными настройками, выполните следующую команду из корня архива проекта: `psql -d eshop -U postgres -f basic.sql`

4. Затем, для работы самого приложения, выполните команду `pip install -r requirements.txt`

5. В проекте, в файле views/app.py, если у вас изменены дефолтные настройки PostgreSQL, можете поменять их в строке `postgresql://postgres:postgres@localhost:5432/eshop`, где postgres:postgres - логин:пароль, 5432 - порт БД.

6. Чтобы запустить проект, выполните команду: `python entry.py`

Результат будет доступен по адресу http://127.0.0.1:8080/api/v1/doc
